<div class="container-fluid">
  <div class="row pt-3">
    <div class="offset-1"></div>
    <% if @user.uid == current_user.uid %>
    <div class="col-9">
      <h1 class="font-weight-bold"><%= image_tag current_user.image, :class => "rounded-circle" %>マイページ</h1>
    </div>
    <div class="col-1">
      <%= link_to image_tag('gear', width: '110%', height: '100%' ), edit_user_path %>
    </div>
    <% else %>
    <div class="col-10">
      <h1 class="font-weight-bold"><i class="fa-solid fa-users"></i><%= @user.name %>さんのページ</h1>
    </div>
    <% end %>
    <div class="offset-1"></div>
  </div>
</div>
<div class="container">
  <div class="row pb-2">
    <div class="col-12 d-flex align-items-center justify-content-center">
    <% if @user.title == 1 %>
      <%= image_tag 'title1', width: '40%', height: '85%' %>
    <% elsif @user.title == 2 %>
      <%= image_tag 'title2', width: '40%', height: '85%' %>
    <% elsif @user.title == 3 %>
      <%= image_tag 'title3', width: '40%', height: '85%' %>
    <% elsif @user.title == 4 %>
      <%= image_tag 'title4', width: '40%', height: '85%' %>
    <% elsif @user.title == 5 %>
      <%= image_tag 'title5', width: '40%', height: '85%' %>
    <% elsif @user.title == 6 %>
      <%= image_tag 'title6', width: '40%', height: '85%' %>
    <% elsif @user.title == 7 %>
      <%= image_tag 'title7', width: '40%', height: '85%' %>
    <% elsif @user.title == 8 %>
      <%= image_tag 'title8', width: '25%', height: '70%' %>
    <% elsif @user.title == 9 %>
      <%= image_tag 'title9', width: '40%', height: '85%' %>
    <% else %>
      <%= image_tag 'title0', width: '25%', height: '70%' %>
    <% end %>
    </div>
  </div>
  <div class="row pb-2">
    <div class="col-sm-12 col-md-8 col-lg-5 px-auto mx-auto text-center">
    <% if @user.avatar == '1-1' %>
      <% if @user.acquisition_point <= 500 %>
        <%= image_tag '1-1' %>
      <% elsif @user.acquisition_point >= 510 && @user.acquisition_point <= 1200 %>
        <%= image_tag '1-2' %>
      <% elsif @user.acquisition_point >= 1210 %>
        <%= image_tag '1-3' %>
      <% end %>
    <% elsif @user.avatar == '2-1' %>
      <% if @user.acquisition_point <= 200 %>
        <%= image_tag '2-1' %>
      <% elsif @user.acquisition_point >= 210 && @user.acquisition_point <= 450 %>
        <%= image_tag '2-2' %>
      <% elsif @user.acquisition_point >= 460 && @user.acquisition_point <= 800 %>
        <%= image_tag '2-3' %>
      <% elsif @user.acquisition_point >= 810 %>
        <%= image_tag '2-4' %>
      <% end %>
    <% elsif @user.avatar == '3-1' %>
      <% if @user.acquisition_point <= 50 %>
        <%= image_tag '3-1' %>
      <% elsif @user.acquisition_point >= 60 && @user.acquisition_point <= 150 %>
        <%= image_tag '3-2' %>
      <% elsif @user.acquisition_point >= 160 && @user.acquisition_point <= 270 %>
        <%= image_tag '3-3' %>
      <% elsif @user.acquisition_point >= 280 && @user.acquisition_point <= 420 %>
        <%= image_tag '3-4' %>
      <% elsif @user.acquisition_point >= 430 %>
        <%= image_tag '3-5' %>
      <% end %>
    <% end %>
    </div>
  </div>
  <div class="row pb-4">
    <div class="col-sm-12 col-md-8 col-lg-5 px-auto mx-auto">
      <table class="table table-sm table-borderless m-0">
        <tbody>
          <tr>
            <th class="text-right pr-0">名前:</th>
            <td class="pl-0 pr-5"><%= @user.name %></td>
          </tr>
          <tr>
            <th class="text-right pr-0">自己紹介:</th>
            <td class="pl-0 pr-5"><%= @user.description %></td>
          </tr>
          <tr>
            <td rowspan="1"></td>
          </tr>
          <tr>
            <td class="text-right p-0">獲得経験値:</td>
            <td class="p-0 pr-5"><%= @user.acquisition_point %>ポイント</td>
          </tr>
          <tr>
            <td class="text-right p-0">ジョブチェンジまで:</td>
            <td class="p-0 pr-5">
            <% if @user.avatar == '1-1' %>
              <% if @user.acquisition_point <= 500 %>
                あと<%= 510 - @user.acquisition_point %>ポイント
              <% elsif @user.acquisition_point >= 510 && @user.acquisition_point <= 1200 %>
                あと<%= 1210 - @user.acquisition_point %>ポイント
              <% elsif @user.acquisition_point >= 1210 %>
                ーーーー
              <% end %>
            <% elsif @user.avatar == '2-1' %>
              <% if @user.acquisition_point <= 200 %>
                あと<%= 210 - @user.acquisition_point %>ポイント
              <% elsif @user.acquisition_point >= 210 && @user.acquisition_point <= 450 %>
                あと<%= 460 - @user.acquisition_point %>ポイント
              <% elsif @user.acquisition_point >= 460 && @user.acquisition_point <= 800 %>
                あと<%= 810 - @user.acquisition_point %>ポイント
              <% elsif @user.acquisition_point >= 810 %>
                ーーーー
              <% end %>
            <% elsif @user.avatar == '3-1' %>
              <% if @user.acquisition_point <= 50 %>
                あと<%= 60 - @user.acquisition_point %>ポイント
              <% elsif @user.acquisition_point >= 60 && @user.acquisition_point <= 150 %>
                あと<%= 160 - @user.acquisition_point %>ポイント
              <% elsif @user.acquisition_point >= 160 && @user.acquisition_point <= 270 %>
                あと<%= 280 - @user.acquisition_point %>ポイント
              <% elsif @user.acquisition_point >= 280 && @user.acquisition_point <= 420 %>
                あと<%= 430 - @user.acquisition_point %>ポイント
              <% elsif @user.acquisition_point >= 430 %>
                ーーーー
              <% end %>
            <% end %>
            </td>
          </tr>
          <tr>
            <td class="text-right p-0">称号獲得まで:</td>
            <td class="p-0 pr-5">
            <% if @user.acquisition_point == 0 %>
              あと<%= 10 - @user.acquisition_point %>ポイント
            <% elsif @user.acquisition_point >= 10 && @user.acquisition_point <= 40 %>
              あと<%= 50 - @user.acquisition_point %>ポイント
            <% elsif @user.acquisition_point >= 50 && @user.acquisition_point <= 90 %>
              あと<%= 100 - @user.acquisition_point %>ポイント
            <% elsif @user.acquisition_point >= 100 && @user.acquisition_point <= 190 %>
              あと<%= 200 - @user.acquisition_point %>ポイント
            <% elsif @user.acquisition_point >= 200 && @user.acquisition_point <= 390 %>
              あと<%= 400 - @user.acquisition_point %>ポイント
            <% elsif @user.acquisition_point >= 400 && @user.acquisition_point <= 690 %>
              あと<%= 700 - @user.acquisition_point %>ポイント
            <% elsif @user.acquisition_point >= 700 && @user.acquisition_point <= 1190 %>
              あと<%= 1200 - @user.acquisition_point %>ポイント
            <% elsif @user.acquisition_point >= 1200 && @user.acquisition_point <= 1690 %>
              あと<%= 1700 - @user.acquisition_point %>ポイント
            <% elsif @user.acquisition_point >= 1700 && @user.acquisition_point <= 2490 %>
              あと<%= 2500 - @user.acquisition_point %>ポイント
            <% elsif @user.acquisition_point >= 2500 %>
              ーーーー
            <% end %>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

